Version 4
SHEET 1 3668 1572
WIRE -448 64 -528 64
WIRE -528 96 -528 64
WIRE -528 96 -640 96
WIRE -496 96 -528 96
WIRE -448 96 -448 64
WIRE 1776 96 -400 96
WIRE 1952 96 1776 96
WIRE 2112 96 1952 96
WIRE 2144 96 2112 96
WIRE -480 256 -480 144
WIRE 608 256 560 256
WIRE 736 256 688 256
WIRE 672 416 672 368
WIRE -1200 432 -1200 336
WIRE 736 432 736 256
WIRE 736 432 704 432
WIRE 880 432 736 432
WIRE 1136 432 960 432
WIRE 416 448 320 448
WIRE 560 448 560 256
WIRE 560 448 496 448
WIRE 640 448 560 448
WIRE 736 464 704 464
WIRE 736 512 736 464
WIRE 672 544 672 480
WIRE -1200 560 -1200 512
WIRE -480 576 -480 256
WIRE -1536 688 -1536 640
WIRE -1424 688 -1424 640
WIRE -1312 688 -1312 640
WIRE -1200 688 -1200 640
WIRE 1344 704 1280 704
WIRE 1472 704 1424 704
WIRE 608 720 560 720
WIRE 736 720 688 720
WIRE 64 736 16 736
WIRE 192 736 144 736
WIRE -336 752 -384 752
WIRE -208 752 -256 752
WIRE 1776 752 1776 96
WIRE -1536 816 -1536 768
WIRE -1424 816 -1424 768
WIRE -1312 816 -1312 768
WIRE -1200 816 -1200 768
WIRE 2144 832 2144 96
WIRE 1952 848 1952 96
WIRE 1376 864 1376 816
WIRE 672 880 672 832
WIRE 1472 880 1472 704
WIRE 1472 880 1408 880
WIRE 1536 880 1472 880
WIRE 1776 880 1776 832
WIRE 1776 880 1616 880
WIRE 128 896 128 848
WIRE 736 896 736 720
WIRE 736 896 704 896
WIRE 816 896 736 896
WIRE 944 896 896 896
WIRE 1136 896 1136 432
WIRE 1136 896 1008 896
WIRE 1200 896 1136 896
WIRE 1280 896 1280 704
WIRE 1280 896 1200 896
WIRE 1344 896 1280 896
WIRE -272 912 -272 864
WIRE 192 912 192 736
WIRE 192 912 160 912
WIRE 320 912 320 448
WIRE 320 912 192 912
WIRE 416 912 320 912
WIRE 560 912 560 720
WIRE 560 912 496 912
WIRE 640 912 560 912
WIRE 1520 912 1408 912
WIRE 1536 912 1520 912
WIRE 1680 912 1616 912
WIRE -208 928 -208 752
WIRE -208 928 -240 928
WIRE -160 928 -208 928
WIRE 16 928 16 736
WIRE 16 928 -80 928
WIRE 96 928 16 928
WIRE 736 928 704 928
WIRE -480 944 -480 656
WIRE -464 944 -480 944
WIRE -384 944 -384 752
WIRE -384 944 -464 944
WIRE -304 944 -384 944
WIRE 192 944 160 944
WIRE -208 960 -240 960
WIRE 736 976 736 928
WIRE 1520 976 1520 912
WIRE 1776 976 1776 880
WIRE 192 992 192 944
WIRE 1376 992 1376 928
WIRE -208 1008 -208 960
WIRE 672 1008 672 944
WIRE 128 1024 128 960
WIRE -272 1040 -272 976
WIRE 1520 1120 1520 1056
WIRE 608 1184 544 1184
WIRE 720 1184 672 1184
WIRE 656 1344 656 1296
WIRE 720 1360 720 1184
WIRE 720 1360 688 1360
WIRE 864 1360 720 1360
WIRE 1136 1360 1136 896
WIRE 1136 1360 944 1360
WIRE 320 1376 320 912
WIRE 400 1376 320 1376
WIRE 544 1376 544 1184
WIRE 544 1376 480 1376
WIRE 624 1376 544 1376
WIRE 720 1392 688 1392
WIRE 1776 1408 1776 1056
WIRE 1952 1408 1952 912
WIRE 2144 1408 2144 912
WIRE 720 1440 720 1392
WIRE 656 1472 656 1408
FLAG 1952 1408 0
FLAG -1424 816 0
FLAG -1424 640 VDD
FLAG 2144 1408 0
FLAG -480 256 gateDrive
FLAG -1312 816 0
FLAG 672 832 VDD
FLAG 672 1008 VSS
FLAG 736 976 0
FLAG 2112 96 OUT
FLAG -1312 640 REF
FLAG -1536 816 0
FLAG -1536 640 VSS
FLAG -1200 816 0
FLAG -640 96 IN
FLAG 672 368 VDD
FLAG 672 544 VSS
FLAG 736 512 0
FLAG 656 1296 VDD
FLAG 656 1472 VSS
FLAG 720 1440 0
FLAG 1776 1408 0
FLAG 128 848 VDD
FLAG 128 1024 VSS
FLAG 192 992 0
FLAG -272 864 VDD
FLAG -272 1040 VSS
FLAG -208 1008 0
FLAG 1520 1120 0
FLAG 1376 816 VDD
FLAG 1376 992 VSS
FLAG 1680 912 REF
FLAG 1200 896 error
FLAG -1200 336 IN
FLAG -464 944 A
SYMBOL cap 1936 848 R0
SYMATTR InstName Cout
SYMATTR Value 1p
SYMBOL voltage -1424 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL res 2128 816 R0
SYMATTR InstName Rout
SYMATTR Value 10
SYMBOL voltage -1312 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 1.3
SYMBOL Opamps\\UniversalOpamp2 672 912 M0
SYMATTR InstName U2
SYMBOL res 800 912 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value 200
SYMBOL res 592 736 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL voltage -1536 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value -10
SYMBOL pmos4 -400 144 M270
SYMATTR InstName M2
SYMATTR Value PMOS532
SYMATTR Value2 l=1u w=1000u m=1
SYMBOL voltage -1200 672 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 45 34 Left 2
WINDOW 3 46 68 Left 2
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL res 400 928 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL cap 944 912 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMBOL Opamps\\UniversalOpamp2 672 448 M0
SYMATTR InstName U3
SYMBOL res 864 448 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res 592 272 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 20k
SYMBOL res 400 464 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL Opamps\\UniversalOpamp2 656 1376 M0
SYMATTR InstName U4
SYMBOL res 848 1376 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R11
SYMATTR Value 100MEG
SYMBOL res 384 1392 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL cap 608 1200 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 0.01µ
SYMBOL res 1760 960 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 1760 736 R0
SYMATTR InstName R15
SYMATTR Value 19k
SYMBOL Opamps\\UniversalOpamp2 128 928 M0
SYMATTR InstName U1
SYMBOL res 48 752 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL Opamps\\UniversalOpamp2 -272 944 M0
SYMATTR InstName U5
SYMBOL res -352 768 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -176 944 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 1328 688 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 1520 864 M90
WINDOW 0 0 44 VBottom 2
WINDOW 3 -26 93 VTop 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 1520 896 M90
WINDOW 0 58 40 VBottom 2
WINDOW 3 30 89 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res 1504 960 R0
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL Opamps\\UniversalOpamp2 1376 896 M0
SYMATTR InstName U6
SYMBOL voltage -1200 544 R0
WINDOW 0 44 38 Left 2
WINDOW 3 38 69 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value SINE(0 0 10000)
SYMBOL voltage -1200 416 R0
WINDOW 0 47 44 Left 2
WINDOW 3 42 79 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value PULSE(0 0 10u 1n 1n 20u 40u)
SYMBOL voltage -480 560 R0
WINDOW 0 52 30 Left 2
WINDOW 123 48 66 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value2 AC 1
SYMATTR Value ""
TEXT -1176 16 Left 2 !.include ece532model.txt
TEXT -1160 56 Left 2 !;tran 0 0.2m 0
TEXT 840 312 Left 2 ;Proportional
TEXT 872 760 Left 2 ;Derivative
TEXT 880 1232 Left 2 ;Integral
TEXT 64 632 Left 2 ;Summer
TEXT -320 640 Left 2 ;Inverter
TEXT 1320 632 Left 2 ;Error Subtractor
TEXT -1160 120 Left 2 !.ac dec 100 1 1G
